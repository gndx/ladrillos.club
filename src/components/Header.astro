---
import { Image } from 'astro:assets';
import menu from '@config/menu.json';
import config from '@config/config.json';
import HamburgerIcon from '@icons/HamburgerIcon.astro';
import CloseIcon from '@icons/CloseIcon.astro';
import HomeIcon from '@icons/HomeIcon.astro';
import ThemeIcon from '@components/ThemeIcon.astro';

export interface NavigationLink {
  name: string;
  url: string;
}

const { main }: { main: NavigationLink[] } = menu;
---

<header class="bg-zinc-50 dark:bg-zinc-900">
  <div class="mx-auto max-w-screen-lg px-4 py-8 sm:px-6 sm:py-12 lg:px-8">
    <div class="flex items-start justify-between gap-2 sm:gap-4 md:items-center">
      <div class="block dark:hidden">
        <a href="/" class="logo flex items-center" aria-current="page">
          <figure>
            <svg class="w-16 h-16 fill-red-500" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
              <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
              <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
              <g id="SVGRepo_iconCarrier">
                <path d="M6,19.7439414 C4.25221144,19.1261868 3,17.4593282 3,15.5 L3,8.5 C3,6.01471863 5.01471863,4 7.5,4 L8,4 L8,3.5 C8,2.67157288 8.67157288,2 9.5,2 L14.5,2 C15.3284271,2 16,2.67157288 16,3.5 L16,4 L16.5,4 C18.9852814,4 21,6.01471863 21,8.5 L21,15.5 C21,17.4593282 19.7477886,19.1261868 18,19.7439414 L18,20.5 C18,21.3284271 17.3284271,22 16.5,22 L7.5,22 C6.67157288,22 6,21.3284271 6,20.5 L6,19.7439414 L6,19.7439414 Z M7,19.9725356 L7,20.5 C7,20.7761424 7.22385763,21 7.5,21 L16.5,21 C16.7761424,21 17,20.7761424 17,20.5 L17,19.9725356 C16.8358331,19.9906833 16.6690045,20 16.5,20 L7.5,20 C7.33099545,20 7.16416693,19.9906833 7,19.9725356 L7,19.9725356 Z M9,4 L15,4 L15,3.5 C15,3.22385763 14.7761424,3 14.5,3 L9.5,3 C9.22385763,3 9,3.22385763 9,3.5 L9,4 Z M7.5,5 C5.56700338,5 4,6.56700338 4,8.5 L4,15.5 C4,17.4329966 5.56700338,19 7.5,19 L16.5,19 C18.4329966,19 20,17.4329966 20,15.5 L20,8.5 C20,6.56700338 18.4329966,5 16.5,5 L7.5,5 Z M14.5,10 L15.5,10 C15.7761424,10 16,10.2238576 16,10.5 L16,11.5 C16,11.7761424 15.7761424,12 15.5,12 L14.5,12 C14.2238576,12 14,11.7761424 14,11.5 L14,10.5 C14,10.2238576 14.2238576,10 14.5,10 Z M8.5,10 L9.5,10 C9.77614237,10 10,10.2238576 10,10.5 L10,11.5 C10,11.7761424 9.77614237,12 9.5,12 L8.5,12 C8.22385763,12 8,11.7761424 8,11.5 L8,10.5 C8,10.2238576 8.22385763,10 8.5,10 Z M9.14644661,14.8535534 C8.95118446,14.6582912 8.95118446,14.3417088 9.14644661,14.1464466 C9.34170876,13.9511845 9.65829124,13.9511845 9.85355339,14.1464466 C10.4248566,14.7177498 11.1304821,15 12,15 C12.8695179,15 13.5751434,14.7177498 14.1464466,14.1464466 C14.3417088,13.9511845 14.6582912,13.9511845 14.8535534,14.1464466 C15.0488155,14.3417088 15.0488155,14.6582912 14.8535534,14.8535534 C14.0915232,15.6155836 13.1304821,16 12,16 C10.8695179,16 9.90847678,15.6155836 9.14644661,14.8535534 Z"></path>
              </g>
            </svg>
          </figure>
        </a>
      </div>
      <div class="hidden dark:block">
        <a href="/" class="logo flex items-center" aria-current="page">
          <figure>
            <svg class="w-16 h-16 fill-yellow-500" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
              <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
              <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
              <g id="SVGRepo_iconCarrier">
                <path d="M6,19.7439414 C4.25221144,19.1261868 3,17.4593282 3,15.5 L3,8.5 C3,6.01471863 5.01471863,4 7.5,4 L8,4 L8,3.5 C8,2.67157288 8.67157288,2 9.5,2 L14.5,2 C15.3284271,2 16,2.67157288 16,3.5 L16,4 L16.5,4 C18.9852814,4 21,6.01471863 21,8.5 L21,15.5 C21,17.4593282 19.7477886,19.1261868 18,19.7439414 L18,20.5 C18,21.3284271 17.3284271,22 16.5,22 L7.5,22 C6.67157288,22 6,21.3284271 6,20.5 L6,19.7439414 L6,19.7439414 Z M7,19.9725356 L7,20.5 C7,20.7761424 7.22385763,21 7.5,21 L16.5,21 C16.7761424,21 17,20.7761424 17,20.5 L17,19.9725356 C16.8358331,19.9906833 16.6690045,20 16.5,20 L7.5,20 C7.33099545,20 7.16416693,19.9906833 7,19.9725356 L7,19.9725356 Z M9,4 L15,4 L15,3.5 C15,3.22385763 14.7761424,3 14.5,3 L9.5,3 C9.22385763,3 9,3.22385763 9,3.5 L9,4 Z M7.5,5 C5.56700338,5 4,6.56700338 4,8.5 L4,15.5 C4,17.4329966 5.56700338,19 7.5,19 L16.5,19 C18.4329966,19 20,17.4329966 20,15.5 L20,8.5 C20,6.56700338 18.4329966,5 16.5,5 L7.5,5 Z M14.5,10 L15.5,10 C15.7761424,10 16,10.2238576 16,10.5 L16,11.5 C16,11.7761424 15.7761424,12 15.5,12 L14.5,12 C14.2238576,12 14,11.7761424 14,11.5 L14,10.5 C14,10.2238576 14.2238576,10 14.5,10 Z M8.5,10 L9.5,10 C9.77614237,10 10,10.2238576 10,10.5 L10,11.5 C10,11.7761424 9.77614237,12 9.5,12 L8.5,12 C8.22385763,12 8,11.7761424 8,11.5 L8,10.5 C8,10.2238576 8.22385763,10 8.5,10 Z M9.14644661,14.8535534 C8.95118446,14.6582912 8.95118446,14.3417088 9.14644661,14.1464466 C9.34170876,13.9511845 9.65829124,13.9511845 9.85355339,14.1464466 C10.4248566,14.7177498 11.1304821,15 12,15 C12.8695179,15 13.5751434,14.7177498 14.1464466,14.1464466 C14.3417088,13.9511845 14.6582912,13.9511845 14.8535534,14.1464466 C15.0488155,14.3417088 15.0488155,14.6582912 14.8535534,14.8535534 C14.0915232,15.6155836 13.1304821,16 12,16 C10.8695179,16 9.90847678,15.6155836 9.14644661,14.8535534 Z"></path>
              </g>
            </svg>
          </figure>
        </a>
      </div>
      <div class="relative order-3 flex">
        <!-- navbar toggler -->
        <input id="nav-toggle" type="checkbox" class="hidden" />
        <label
          id="show-button"
          for="nav-toggle"
          class="order-2 flex cursor-pointer items-center text-zinc-400 md:hidden"
        >
          <HamburgerIcon />
        </label>
        <label id="hide-button" for="nav-toggle" class="order-2 hidden cursor-pointer items-center text-zinc-400">
          <CloseIcon />
        </label>
        <!-- /navbar toggler -->
        <div
          id="nav-menu"
          class="absolute right-0 top-8 z-10 mt-2 hidden w-44 divide-y divide-zinc-100 rounded-md border border-zinc-100 bg-white p-2 shadow-lg dark:border-zinc-900 dark:bg-zinc-800"
        >
          <ul class="py-2 text-sm text-zinc-700 dark:text-zinc-200">
            {
              main?.map((menu) => (
                <li>
                  <a
                    href={menu?.url}
                    class="block rounded-lg px-4 py-2 text-sm text-zinc-500 hover:bg-zinc-50 hover:text-zinc-700 dark:text-zinc-400 dark:hover:bg-zinc-200 dark:hover:text-zinc-800"
                  >
                    {menu?.name}
                  </a>
                </li>
              ))
            }
          </ul>
        </div>
      </div>
      <ul class="ml-auto hidden items-center gap-6 md:flex lg:flex">
        {
          main?.map((menu) => (
            <li class="text-md block rounded-lg px-2 py-2 text-zinc-500 transition-all hover:text-zinc-800 dark:text-zinc-400 dark:hover:text-zinc-200">
              <a href={menu?.url} class="relative flex items-center">
                {menu?.name === 'Home' ? <HomeIcon /> : menu?.name}
              </a>
            </li>
          ))
        }
      </ul>
      {config.features.dark_mode && <ThemeIcon />}
    </div>
  </div>
</header>
